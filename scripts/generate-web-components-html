#! /usr/bin/env bash

set -euo pipefail

components=$(
  js-yaml \
    "web-components.yml" \
    | jq \
    --raw-output \
    '.collections[].components[]'
)

echo "
<!--

  This file contains imports for various custom elements from Polymer library.
  It was generated by scripts/generate-web-components-html and is meant to be imported by index.html file, like this:

      <link rel='import' href='/web-components.html' />

-->
"

for component in ${components}
do
  echo \
    "<link rel='import' href='./${component}/${component}.html' />"
done
